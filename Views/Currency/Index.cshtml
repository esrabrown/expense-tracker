@* 
@using Microsoft.AspNetCore.Mvc.RazorPages

@{
    ViewData["Title"] = "Currency Exchange Rate";
}

<h2>@ViewData["Title"]</h2>

<form method="post" asp-action="GetExchangeRate" asp-controller="Currency">
    <div>
        <label for="baseCurrency">Base Currency:</label>
        <input type="text" id="baseCurrency" name="baseCurrency" required />
    </div>
    <div>
        <label for="targetCurrency">Target Currency:</label>
        <input type="text" id="targetCurrency" name="targetCurrency" required />
    </div>
    <button type="submit">Get Exchange Rate</button>
</form>

@if (ViewBag.ExchangeRate != null)
{
    <div>
        <p>Exchange rate from @ViewBag.BaseCurrency to @ViewBag.TargetCurrency is: @ViewBag.ExchangeRate</p>
    </div>
} *@


@using Microsoft.AspNetCore.Mvc.RazorPages

@* @{
    ViewData["Title"] = "Currency Conversion";
}

<h2>Currency Conversion</h2>

<form method="get" asp-action="Convert">
    <div>
        <label>Amount:</label>
        <input type="number" step="0.01" name="amount" required />
    </div>
    <div>
        <label>Base Currency:</label>
        <input type="text" name="baseCurrency" value="USD" required />
    </div>
    <div>
        <label>Target Currency:</label>
        <input type="text" name="targetCurrency" value="EUR" required />
    </div>
    <button type="submit">Convert</button>
</form>

@if (ViewBag.ConvertedAmount != null)
{
    <div>
        <p>@ViewBag.Amount @ViewBag.BaseCurrency is @ViewBag.ConvertedAmount @ViewBag.TargetCurrency</p>
    </div>
} *@


@{
    ViewData["Title"] = "Currency Exchange Rates";
    var currencies = ViewBag.Currencies as List<string>;
    var exchangeRates = ViewBag.ExchangeRates as Dictionary<string, decimal>;
}

<h2>@ViewData["Title"]</h2>

<form method="post" asp-action="GetExchangeRates" asp-controller="Currency">
    <div>
        <label for="baseCurrency">Base Currency:</label>
        <select id="baseCurrency" name="baseCurrency" required>
            @foreach (var currency in currencies)
            {
                <option value="@currency">@currency</option>
            }
        </select>
    </div>
    <div>
        <label for="targetCurrency">Target Currency:</label>
        <select type="targetCurrency" name="targetCurrency" required />
         @foreach (var currency in currencies)
            {
                <option value="@currency">@currency</option>
            }
        </select>
    </div>
    <button type="submit">Get Exchange Rates</button>
</form>

@* @if (exchangeRates != null)
{
    <div>
        <h3>Exchange Rates for @ViewBag.BaseCurrency</h3>
        <ul>
            @foreach (var rate in exchangeRates)
            {
                <li>@ViewBag.BaseCurrency to @rate.Key: @rate.Value</li>
            }
        </ul>
    </div> *@
    @if (ViewBag.Error != null)
{
    <div>
        <p style="color:red;">Error: @ViewBag.Error</p>
    </div>
}

@if (exchangeRates != null)
{
    <div>
        <h3>Exchange Rates for @ViewBag.BaseCurrency</h3>
        <ul>
            @foreach (var rate in exchangeRates)
            {
                <li>@ViewBag.BaseCurrency to @rate.Key: @rate.Value</li>
            }
        </ul>
    </div>
}
